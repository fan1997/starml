include(ExternalProject)
set(EIGEN_VERSION 3.3.7)
set(EIGEN_URL https://gitlab.com/libeigen/eigen/-/archive/${EIGEN_VERSION}/eigen-${EIGEN_VERSION}.tar.gz)
set(EIGEN_INSTALL_DIR ${THIRD_PARTY_DIR}/eigen)
set(EIGEN_INCLUDE_DIR ${THIRD_PARTY_DIR}/eigen/include/eigen3)

ExternalProject_Add(eigen
  PREFIX ${THIRD_PARTY_DIR}/eigen
  URL ${EIGEN_URL}
  URL_HASH MD5=9e30f67e8531477de4117506fe44669b
  UPDATE_COMMAND ""
  INSTALL_DIR "${EIGEN_INSTALL_DIR}"
  DOWNLOAD_DIR ${THIRD_PARTY_DIR}/eigen
  CMAKE_CACHE_ARGS
    -DCMAKE_BUILD_TYPE:STRING=${CMAKE_BUILD_TYPE}
    -DCMAKE_VERBOSE_MAKEFILE:BOOL=OFF
    -DCMAKE_INSTALL_PREFIX:STRING=${EIGEN_INSTALL_DIR}
    -DCMAKE_CXX_FLAGS_DEBUG:STRING=${CMAKE_CXX_FLAGS_DEBUG}
    -DCMAKE_CXX_FLAGS_RELEASE:STRING=${CMAKE_CXX_FLAGS_RELEASE}
    -DBUILD_TESTING:BOOL=OFF
)
